<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route Finder</title>
    <script>
        function fetchResults() {
            fetch("result.json")
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        document.getElementById("result").innerText = data.error;
                    } else {
                        let output = `Trip Duration: ${data.duration} seconds\n`;
                        output += `Distance: ${data.distance} meters\n\n`;
                        if (data.steps) {
                            output += "Steps:\n";
                            data.steps.forEach(step => {
                                output += `${step.instruction} (${step.distance} meters)\n`;
                            });
                        }
                        document.getElementById("result").innerText = output;
                    }
                })
                .catch(error => console.error("Error fetching results:", error));
        }
    </script>
</head>
<body>
    <h2>Find Directions</h2>
    <form action="get_directions.py" method="GET">
        <label for="origin">Starting Location:</label>
        <input type="text" id="origin" name="origin" required>
        <br><br>
        <label for="destination">Destination:</label>
        <input type="text" id="destination" name="destination" required>
        <br><br>
        <button type="submit">Get Directions</button>
    </form>

    <h3>Results:</h3>
    <pre id="result"></pre>

    <button onclick="fetchResults()">Refresh Results</button>
</body>
</html>
